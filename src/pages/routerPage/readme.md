# 说明

采用react-router-dom来管理的路由系统，由于已经厌烦了配置式路由，采用了约定式路由的方式来构建动态路由，具体说明如下：  
路由分为基础路由部分和动态路由部分  

## 基础路由

基础路由是配置一些固定的路由，以及嵌套路由的一级入口路由等，例如登录页，根路由/*等，这些路由依然采用配置式的方式再路由文件中书写 

## 动态路由

动态路由采用约定式的方式，本项目中的约定方式如下：  

- 利用vite的glob读取能力读取pages路径下的所有index.tsx文件,约定这些文件就是后续需要挂载的路由组件
- 利用vite的glob读取能力读取pages路径下的所有page.ts文件,约定这些文件就是同级index.tsx这个路由的一些扩展配置信息，可以没有
- 从store(redux中获取，实际情况期望从接口中获取当前用户有权限的菜单配置)获取菜单配置，将菜单中存在的配置的组件路径作为key匹配获取到的所有路由
- 查看当前路由是否存在page.ts中的额外配置，有的话根据配置做额外处理
- 最后将能够匹配的的路由组件构建为一个路由配置项，其中path由菜单的路径生成，element为读取到的改组件，然后将该路由配置项挂载到基础路由的一级入口路由的children中

## 约定式路由的优势

约定式路由的优点有以下几点： 

- 对于后续开发来说，不再需要去再去手动写路由的配置，新建名为index.tsx的文件即代表同时创建了对应路由。
- 对于有登录、有权限、有菜单的系统，路由的path可完全后配置的菜单决定，完全动态可控；而菜单的内容则由文件的路径决定。除了少出特殊需求的页面，需要书写page.ts的配置项以外，其他页面完全不需要再去
- 对于静态菜单的系统，完全可以使用路由组件的路径作为path，路由组件的上层文件夹的名字作为菜单名称，如有特殊需求（菜单名称不能采用文件夹名称）再page.ts中书写扩展配置，无需再去配置路由
